package f.b.f.a;

import java.io.IOException;
import java.io.InputStream;
import java.io.ObjectInputStream;
import java.util.HashSet;
import java.util.List;
import java.util.Objects;
import java.util.concurrent.ConcurrentHashMap;
import java.util.logging.Level;
import java.util.logging.Logger;
/* loaded from: classes.dex */
public final class b {
    public static final a a = new a();
    public static final Logger b = Logger.getLogger(b.class.getName());

    /* loaded from: classes.dex */
    public static class a implements a {
    }

    static {
        new ConcurrentHashMap();
        new ConcurrentHashMap();
        HashSet hashSet = new HashSet(61);
        hashSet.add(7);
        hashSet.add(27);
        hashSet.add(30);
        hashSet.add(31);
        hashSet.add(34);
        hashSet.add(36);
        hashSet.add(39);
        hashSet.add(43);
        hashSet.add(44);
        hashSet.add(49);
        hashSet.add(52);
        hashSet.add(54);
        hashSet.add(55);
        hashSet.add(58);
        hashSet.add(61);
        hashSet.add(62);
        hashSet.add(64);
        hashSet.add(66);
        hashSet.add(81);
        hashSet.add(84);
        hashSet.add(90);
        hashSet.add(91);
        hashSet.add(94);
        hashSet.add(95);
        hashSet.add(255);
        hashSet.add(350);
        hashSet.add(351);
        hashSet.add(352);
        hashSet.add(358);
        hashSet.add(359);
        hashSet.add(372);
        hashSet.add(373);
        hashSet.add(380);
        hashSet.add(381);
        hashSet.add(385);
        hashSet.add(505);
        hashSet.add(506);
        hashSet.add(595);
        hashSet.add(675);
        hashSet.add(676);
        hashSet.add(679);
        hashSet.add(855);
        hashSet.add(856);
        hashSet.add(971);
        hashSet.add(972);
        hashSet.add(995);
        HashSet hashSet2 = new HashSet(321);
        hashSet2.add("AC");
        hashSet2.add("AD");
        hashSet2.add("AE");
        f.a.a.a.a.p(hashSet2, "AF", "AG", "AI", "AL");
        f.a.a.a.a.p(hashSet2, "AM", "AO", "AR", "AS");
        f.a.a.a.a.p(hashSet2, "AT", "AU", "AW", "AX");
        f.a.a.a.a.p(hashSet2, "AZ", "BA", "BB", "BD");
        f.a.a.a.a.p(hashSet2, "BE", "BF", "BG", "BH");
        f.a.a.a.a.p(hashSet2, "BI", "BJ", "BL", "BM");
        f.a.a.a.a.p(hashSet2, "BN", "BO", "BQ", "BR");
        f.a.a.a.a.p(hashSet2, "BS", "BT", "BW", "BY");
        f.a.a.a.a.p(hashSet2, "BZ", "CA", "CC", "CD");
        f.a.a.a.a.p(hashSet2, "CF", "CG", "CH", "CI");
        f.a.a.a.a.p(hashSet2, "CK", "CL", "CM", "CN");
        f.a.a.a.a.p(hashSet2, "CO", "CR", "CU", "CV");
        f.a.a.a.a.p(hashSet2, "CW", "CX", "CY", "CZ");
        f.a.a.a.a.p(hashSet2, "DE", "DJ", "DK", "DM");
        f.a.a.a.a.p(hashSet2, "DO", "DZ", "EC", "EE");
        f.a.a.a.a.p(hashSet2, "EG", "EH", "ER", "ES");
        f.a.a.a.a.p(hashSet2, "ET", "FI", "FJ", "FK");
        f.a.a.a.a.p(hashSet2, "FM", "FO", "FR", "GA");
        f.a.a.a.a.p(hashSet2, "GB", "GD", "GE", "GF");
        f.a.a.a.a.p(hashSet2, "GG", "GH", "GI", "GL");
        f.a.a.a.a.p(hashSet2, "GM", "GN", "GP", "GR");
        f.a.a.a.a.p(hashSet2, "GT", "GU", "GW", "GY");
        f.a.a.a.a.p(hashSet2, "HK", "HN", "HR", "HT");
        f.a.a.a.a.p(hashSet2, "HU", "ID", "IE", "IL");
        f.a.a.a.a.p(hashSet2, "IM", "IN", "IQ", "IR");
        f.a.a.a.a.p(hashSet2, "IS", "IT", "JE", "JM");
        f.a.a.a.a.p(hashSet2, "JO", "JP", "KE", "KG");
        f.a.a.a.a.p(hashSet2, "KH", "KI", "KM", "KN");
        f.a.a.a.a.p(hashSet2, "KP", "KR", "KW", "KY");
        f.a.a.a.a.p(hashSet2, "KZ", "LA", "LB", "LC");
        f.a.a.a.a.p(hashSet2, "LI", "LK", "LR", "LS");
        f.a.a.a.a.p(hashSet2, "LT", "LU", "LV", "LY");
        f.a.a.a.a.p(hashSet2, "MA", "MC", "MD", "ME");
        f.a.a.a.a.p(hashSet2, "MF", "MG", "MH", "MK");
        f.a.a.a.a.p(hashSet2, "ML", "MM", "MN", "MO");
        f.a.a.a.a.p(hashSet2, "MP", "MQ", "MR", "MS");
        f.a.a.a.a.p(hashSet2, "MT", "MU", "MV", "MW");
        f.a.a.a.a.p(hashSet2, "MX", "MY", "MZ", "NA");
        f.a.a.a.a.p(hashSet2, "NC", "NE", "NF", "NG");
        f.a.a.a.a.p(hashSet2, "NI", "NL", "NO", "NP");
        f.a.a.a.a.p(hashSet2, "NR", "NU", "NZ", "OM");
        f.a.a.a.a.p(hashSet2, "PA", "PE", "PF", "PG");
        f.a.a.a.a.p(hashSet2, "PH", "PK", "PL", "PM");
        f.a.a.a.a.p(hashSet2, "PR", "PS", "PT", "PW");
        f.a.a.a.a.p(hashSet2, "PY", "QA", "RE", "RO");
        f.a.a.a.a.p(hashSet2, "RS", "RU", "RW", "SA");
        f.a.a.a.a.p(hashSet2, "SB", "SC", "SD", "SE");
        f.a.a.a.a.p(hashSet2, "SG", "SH", "SI", "SJ");
        f.a.a.a.a.p(hashSet2, "SK", "SL", "SM", "SN");
        f.a.a.a.a.p(hashSet2, "SO", "SR", "SS", "ST");
        f.a.a.a.a.p(hashSet2, "SV", "SX", "SY", "SZ");
        f.a.a.a.a.p(hashSet2, "TC", "TD", "TG", "TH");
        f.a.a.a.a.p(hashSet2, "TJ", "TL", "TM", "TN");
        f.a.a.a.a.p(hashSet2, "TO", "TR", "TT", "TV");
        f.a.a.a.a.p(hashSet2, "TW", "TZ", "UA", "UG");
        f.a.a.a.a.p(hashSet2, "US", "UY", "UZ", "VA");
        f.a.a.a.a.p(hashSet2, "VC", "VE", "VG", "VI");
        f.a.a.a.a.p(hashSet2, "VN", "VU", "WF", "WS");
        f.a.a.a.a.p(hashSet2, "XK", "YE", "YT", "ZA");
        hashSet2.add("ZM");
        hashSet2.add("ZW");
    }

    public static <T> g a(T t, ConcurrentHashMap<T, g> concurrentHashMap, String str, a aVar) {
        Throwable th;
        g gVar = concurrentHashMap.get(t);
        if (gVar != null) {
            return gVar;
        }
        String str2 = str + "_" + t;
        Objects.requireNonNull((a) aVar);
        InputStream resourceAsStream = b.class.getResourceAsStream(str2);
        if (resourceAsStream != null) {
            ObjectInputStream objectInputStream = null;
            try {
                try {
                    ObjectInputStream objectInputStream2 = new ObjectInputStream(resourceAsStream);
                    try {
                        h hVar = new h();
                        try {
                            hVar.readExternal(objectInputStream2);
                            try {
                                objectInputStream2.close();
                            } catch (IOException e2) {
                                b.log(Level.WARNING, "error closing input stream (ignored)", (Throwable) e2);
                            }
                            List<g> list = hVar.b;
                            if (list.size() != 0) {
                                if (list.size() > 1) {
                                    b.log(Level.WARNING, "more than one metadata in file " + str2);
                                }
                                g gVar2 = list.get(0);
                                g putIfAbsent = concurrentHashMap.putIfAbsent(t, gVar2);
                                return putIfAbsent != null ? putIfAbsent : gVar2;
                            }
                            throw new IllegalStateException(f.a.a.a.a.x("empty metadata: ", str2));
                        } catch (IOException e3) {
                            throw new RuntimeException("cannot load/parse metadata", e3);
                        }
                    } catch (Throwable th2) {
                        th = th2;
                        objectInputStream = objectInputStream2;
                        try {
                            if (objectInputStream != null) {
                                objectInputStream.close();
                            } else {
                                resourceAsStream.close();
                            }
                        } catch (IOException e4) {
                            b.log(Level.WARNING, "error closing input stream (ignored)", (Throwable) e4);
                        }
                        throw th;
                    }
                } catch (IOException e5) {
                    throw new RuntimeException("cannot load/parse metadata", e5);
                }
            } catch (Throwable th3) {
                th = th3;
            }
        } else {
            throw new IllegalStateException(f.a.a.a.a.x("missing metadata: ", str2));
        }
    }
}
